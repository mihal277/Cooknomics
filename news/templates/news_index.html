{% extends 'base.html' %}
{% load staticfiles %}

{% block title %}
    Cooknomics - News
{% endblock title %}

{% block scripts %}
    <!-- Script that gets new pages -->
    <script type="application/javascript">
        var pageNumber = {{ page.number }};
        var hasNextPage = {{ page.has_next|lower }};
        var url = '{% url 'news:page' %}';
        var dataDict = null;
    </script>
    <script type="application/javascript" src="{% static 'js/scripts.js' %}"></script>
    <script type="application/javascript" src="{% static 'news/js/scripts.js' %}" ></script>
{% endblock %}

{%  block app_title %}
<span class="app_title">NEWS</span>
{% endblock app_title %}
{% block content %}
    <main>
        <ul class="element-list">
            {% for article in page %}
                <div class="article-list-single">
                    <a href="{% url 'news:article' article.slug %}">
                        <h2>{{ article.title }}</h2>
                     </a>

                    <script>document.write(trim_str_to_n("{{ article.content }}"));</script>
                    <a href="{% url 'news:article' article.slug %}">Go to article</a>

                    <p>Posted by {{ article.author }} on {{ article.published_date }}</p>
                    <hr>
                </div>
            {% endfor %}
        </ul>
    </main>
{% endblock content %}

